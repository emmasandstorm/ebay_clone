{% for field, errors in form.errors.items() %}
  {{ ', '.join(errors) }}
{% endfor %}

<title>{{title}}</title>

<h1>{{title}}</h1>

<form action="" method="post" novalidate enctype="multipart/form-data">
    {{ form.hidden_tag() }}
    <p>
      {{ form.title.label }}<br />
      {{ form.title(size=128) }}
    </p>
    <p>
      {{ form.description.label }}<br />
      {{ form.description(size=256) }}
    </p>
    <p>
        {{ form.for_purchase.label }}<br />
        {{ form.for_purchase(onchange="promptPrice()") }}
    </p>
    <p id="price_prompt">
        {{ form.purchase_price.label }}<br />
        {{ form.purchase_price }}
    </p>
    <p>{{ form.submit() }}</p>
  </form>

  <script>
    function promptPrice(){
      const checked = document.getElementById('for_purchase').checked
      if (checked){
        document.getElementById('price_prompt').hidden = false
        document.getElementById('purchase_price').disabled = false
      } else {
        document.getElementById('price_prompt').hidden = true
        document.getElementById('purchase_price').disabled = true
      }
    }
    promptPrice()
</script>